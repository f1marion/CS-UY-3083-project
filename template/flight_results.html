<!-- templates/flight_results.html -->
{% extends "base.html" %}
{% block content %}
<h2>Flight Results</h2>
{% if flights %}
<table border="1">
    <tr>
        <th>Flight Number</th>
        <th>Airline</th>
        <th>Departure Time</th>
        <th>Arrival Time</th>
        <th>Status</th>
        {% if session.get('user_type') == 'customer' %}
        <th>Action</th>
        {% endif %}
    </tr>
    {% for flight in flights %}
    <tr>
        <td>{{ flight.Flight_num }}</td>
        <td>{{ flight.Airline_name }}</td>
        <td>{{ flight.Departure_date_time }}</td>
        <td>{{ flight.Arrival_date_time }}</td>
        <td>{{ flight.Status }}</td>
        {% if session.get('user_type') == 'customer' %}
        <td>
        <a href="{{ url_for('purchase_ticket', airline_name=flight.Airline_name, flight_num=flight.Flight_num) }}">Purchase Ticket</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No flights found.</p>
{% endif %}
{% endblock %}
